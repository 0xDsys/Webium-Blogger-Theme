!function(j,A){j.InfiniteScroll=function(t){function d(t,e){return(e=e||A).querySelectorAll(t)}function o(t){return void 0!==t}function r(t){return"function"==typeof t}function l(t,e){if(o(a[t]))for(var n in a[t])a[t][n](e)}function e(){return T.innerHTML=f.text.loading,g=!0,L?(v.classList.add(f.state.loading),l("loading",[f]),void s(L,function(t,e){v.className=M+" "+f.state.load,(u=A.createElement("div")).innerHTML=t;var n=d("title",u),o=d(f.target.post,u),r=d(f.target.anchors+" "+f.target.anchor,u),a=d(f.target.post,h),n=n&&n[0]?n[0].innerHTML:"";if(o.length&&a.length){a=a[a.length-1];A.title=n,a.insertAdjacentHTML("afterend",'<span class="fi" id="#fi:'+E+'"></span>'),u=A.createElement("div");for(var i=0,s=o.length;i<s;++i)u.appendChild(o[i]);a.insertAdjacentHTML("afterend",u.innerHTML),c(),L=!!r.length&&r[0].href,g=!1,E++,l("load",[f,t,e])}},function(t,e){v.classList.add(f.state.error),g=!1,c(1),l("error",[f,t,e])})):(v.classList.add(f.state.loaded),T.innerHTML=f.text.loaded,l("loaded",[f]))}function c(t){T.innerHTML="",p&&(u.innerHTML=f.text[t?"error":"load"],(t=u.firstChild).onclick=function(){return 2===f.type&&(p=!1),e(),!1},T.appendChild(t))}var f={target:{posts:".posts",post:".post",anchors:".anchors",anchor:".anchor"},text:{load:"%s",loading:"%s",loaded:"%s",error:"%s"},state:{load:(s="infinite-scroll-state-")+"load",loading:s+"loading",loaded:s+"loaded",error:s+"error"}},a={load:[],loading:[],loaded:[],error:[]};(f=function t(e,n){for(var o in e=e||{},n)e[o]="object"==typeof n[o]?t(e[o],n[o]):n[o];return e}(f,t||{})).on=function(t,e,n){return o(t)?o(e)?void(o(n)?a[t][n]=e:a[t].push(e)):a[t]:a},f.off=function(t,e){o(e)?delete a[t][e]:a[t]=[]};var n,i,u=null,s=function(t,e,n){var o;j.XMLHttpRequest&&((o=new XMLHttpRequest).onreadystatechange=function(){4===o.readyState&&(200===o.status?e&&r(e)&&e(o.responseText,o):n&&r(n)&&n(o.responseText,o))},o.open("GET",t),o.send())},p=1!==f.type,g=!1,h=d(f.target.posts)[0],T=d(f.target.anchors)[0],L=d(f.target.anchor,T),H=A.body,v=A.documentElement,M=v.className||"",m=(h.offsetTop,h.offsetHeight,0),y=j.innerHeight,x=null,E=1;return L.length&&(L=L[0].href,h.insertAdjacentHTML("afterbegin",'<span class="fi" id="#fi:0"></span>'),u=A.createElement("div"),c(),(i=function(){m=h.offsetTop+h.offsetHeight,y=j.innerHeight,n=H.scrollTop||v.scrollTop,g||n+y<m||e()})(),0!==f.type&&j.addEventListener("scroll",function(){lazyLoadInstance.update()||p||(x&&j.clearTimeout(x),x=j.setTimeout(i,500))},!1)),f}}(window,document);